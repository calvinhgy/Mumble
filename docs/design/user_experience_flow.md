# 用户体验流程

## 1. 首次使用流程

### 1.1 应用安装后首次启动
1. 启动屏幕展示Mumble标志和简短动画（3秒）
2. 欢迎界面介绍应用核心功能
3. 权限请求流程：
   - 麦克风访问权限
   - 位置服务权限
   - 通知权限（可选）
4. 简短教程展示（可跳过）
5. 引导用户进行首次录音尝试

### 1.2 首次录音体验
1. 强调指引用户按住M按钮
2. 提供示例提示："试着描述你现在看到的景色"
3. 录音完成后展示处理动画
4. 首次图像生成完成后展示成功页面
5. 引导用户查看图库

## 2. 核心使用流程

### 2.1 创建新图像
1. 用户进入主界面，看到中央M按钮
2. 环境数据自动收集并在状态栏显示就绪状态
3. 用户按住M按钮，开始录音
   - 视觉反馈：按钮颜色变化和脉动效果
   - 音量可视化显示
4. 用户松开按钮，结束录音
   - 如果录音时间过短（<2秒），显示提示
5. 显示处理中状态：
   - 语音处理指示
   - 图像生成进度条
6. 图像生成完成，展示结果
7. 提供快速操作选项：
   - 保存到图库（默认）
   - 立即分享
   - 重新生成

### 2.2 浏览图库
1. 用户点击主界面的图库图标
2. 进入图库网格视图
3. 下拉刷新更新最新图片
4. 滚动浏览所有创建的图片
5. 点击筛选选项可按时间/位置排序
6. 长按图片激活多选模式

### 2.3 查看图片详情
1. 用户点击图库中的缩略图
2. 转场动画进入全屏查看模式
3. 显示图片创建信息：
   - 日期和时间
   - 位置信息
   - 天气数据
4. 底部操作栏提供选项：
   - 导出到相册
   - 分享
   - 删除
   - 查看原始录音文本（如可用）

### 2.4 导出和分享
1. 用户选择导出或分享选项
2. 显示导出/分享选项菜单
3. 选择目标位置/应用
4. 显示导出/分享进度
5. 完成后显示成功确认
6. 返回到之前的界面

## 3. 错误处理流程

### 3.1 录音失败
1. 显示错误提示："无法访问麦克风"
2. 提供解决方案：
   - 检查麦克风权限
   - 确保没有其他应用使用麦克风
3. 提供重试按钮
4. 提供跳转到设置的选项

### 3.2 位置服务不可用
1. 显示警告提示："无法获取位置信息"
2. 提供选项：
   - 继续而不使用位置数据
   - 手动输入位置
   - 检查位置服务设置
3. 记住用户选择，避免重复提示

### 3.3 图像生成失败
1. 显示错误提示："无法生成图像"
2. 可能的原因：
   - 网络连接问题
   - AI服务暂时不可用
   - 内容政策限制
3. 提供重试选项
4. 提供修改录音内容的选项

## 4. 设置和偏好

### 4.1 访问设置
1. 用户从主界面点击设置图标
2. 进入设置界面
3. 分类展示各项设置选项

### 4.2 调整偏好
1. 图像风格偏好：
   - 写实风格
   - 抽象风格
   - 卡通风格
   - 水彩风格
   - 随机（默认）
2. 隐私设置：
   - 位置数据使用级别
   - 录音存储选项
   - 数据分享选项
3. 通知偏好：
   - 图像生成完成通知
   - 新功能通知
4. 存储管理：
   - 查看存储使用情况
   - 清除缓存选项
   - 备份设置

## 5. 特殊场景

### 5.1 离线模式
1. 检测到网络不可用
2. 显示离线模式提示
3. 限制功能：
   - 可以录音但暂存
   - 可以浏览已下载的图片
   - 不能生成新图像
4. 网络恢复后提示同步

### 5.2 低电量模式
1. 检测到设备低电量状态
2. 提供省电模式选项
3. 调整功能：
   - 降低动画效果
   - 减少自动刷新
   - 优化处理性能

### 5.3 高级用户模式
1. 用户可在设置中启用高级模式
2. 提供额外选项：
   - 手动调整AI提示词
   - 自定义环境数据权重
   - 批量处理功能
   - 导出原始数据
